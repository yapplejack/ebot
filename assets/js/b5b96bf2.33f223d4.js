"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1275],{938:(t,e,l)=>{l.r(e),l.d(e,{default:()=>a});var i=l(7294),s=(l(2084),l(3162));const a=function(){const[t,e]=(0,i.useState)([]),[a,p]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[o,h]=(0,i.useState)(""),[g,c]=(0,i.useState)(0),[f,m]=(0,i.useState)(!1),[d,u]=(0,i.useState)([]),[w,x]=(0,i.useState)([]),[y,b]=(0,i.useState)([]),[S,k]=(0,i.useState)([]),A=l(5733)();(0,i.useEffect)((()=>{console.log(g),""!=n&&""!=t&&g==t.length-2&&1==f&&(console.log("called"),E())}),[n,t,g,f]);const F=(e,l)=>{if(a[e][1].match(".png")){d[l]=t[parseInt(a[e][1].split("images/")[1].split('"')[0].split("image")[1].split(".png")[0])],w[l]=a[e][1].split("images/")[1].split('"')[0].split("image")[1],u(d),x(w);let i=a[e][1].split("<img")[1].split('.png" ')[1],s=n[l].split("default}")[0];return console.log(e),console.log(a),s+"default} "+i.split("}}")[0]+', maxWidth: "none"}}'+i.split("}}")[1]}{d[l]=t[parseInt(a[e][1].split("images/")[1].split('"')[0].split("image")[1].split(".jpg")[0])],w[l]=a[e][1].split("images/")[1].split('"')[0].split("image")[1],u(d),x(w);let i=a[e][1].split("<img")[1].split('.jpg" ')[1],s=n[l].split("default}")[0];return console.log(e),console.log(a),s+"default} "+i.split("}}")[0]+', maxWidth: "none"}}'+i.split("}}")[1]}},M=(t,e)=>{console.log(a[t][1]);let l=a[t][1].split("width")[0]+"width"+a[t][1].split("width")[1].split("}}")[0];return n[e].match(/left=\"-?(\d+)/i)&&(console.log(parseFloat(n[e].match(/left=\"-?(\d+)/i)[1])),l=parseFloat(n[e].match(/left=\"-?(\d+)/i)[1])>375?a[t][1].split("width")[0]+"float: 'right', width"+a[t][1].split("width")[1].split("}}")[0]:a[t][1].split("width")[0]+"float: 'left', width"+a[t][1].split("width")[1].split("}}")[0]),l+"}}>"},E=()=>{let t=0;for(let e=0;e<a.length;e++)"img"==a[e][0]?(S[e]=F(e,t),S[e]=M(e,t)+S[e],t+=1):S[e]=a[e][1],k(S);console.log(S),(()=>{for(let t=0;t<S.length;t++)if("img"==a[t][0]){let e=S[t].split("width: '"),l=S[t].split("height: '"),i=S[t].split("marginTop: '"),s=S[t].split("marginLeft: '");for(let t=1;t<3;t++)e[t-1]=e[t].split("px")[0],l[t-1]=l[t].split("px")[0];i[0]=i[1].split("px")[0],s[0]=s[1].split("px")[0],S[t]=S[t].split("width: '")[0]+"width: '"+Math.round(1*parseFloat(e[0])*100)/100+"px', height: '"+Math.round(1*parseFloat(l[0])*100)/100+"px'}}"+S[t].split("}}")[1].split("width: '")[0]+"width: '"+Math.round(1*parseFloat(e[1])*100)/100+"px', height: '"+Math.round(1*parseFloat(l[1])*100)/100+"px', marginLeft: '"+Math.round(1*parseFloat(s[1])*100)/100+"px', marginTop: '"+Math.round(1*parseFloat(i[1])*100)/100+"px', transform"+S[t].split("}}")[1].split("transform")[1]+"}}"+S[t].split("}}")[2]}})(),(()=>{let t="";for(let e=0;e<S.length;e++)t+=S[e]+"\n\n";console.log(t)})(),(()=>{if(d.length>0){console.log(d);for(let t=0;t<d.length;t++)console.log(w[t]),w[t].match(/.jpg/)?A.file("image_"+t+".jpg",d[t]):A.file("image_"+t+".png",d[t]);A.generateAsync({type:"blob"}).then((t=>{(0,s.saveAs)(t,"example.zip")}))}})()},j=async t=>{let l=await t[0].text();e(t),function(t){t=t.split("</head>")[1].split("</p>");let e=0,l=0,i=0;for(let s=0;s<t.length-1;s++){let n=t[s].split("</span>");console.log(n);let r=[],o=0,g=!1;for(let t=0;t<n.length;t++)if(""!=n[t]){if(n[t].match(/hr\sstyle=/i))g=!0;else if(n[t].split("<span")[1].match(/\d\">$/)&&!n[t].split("span")[1].match(/style/i))e+=1;else if(e>0){let t="<p>";for(let l=0;l<e;l++)t+="<br /> ";t+="</p>",e=0,a[l]=["space",t],l+=1}if(!n[t].match(/hr\sstyle=/i)&&n[t].split("span")[1].match(/style=\"o/i)){if(r.length>0){for(let t=1;t<r.length;t++)r[0]+=r[t];a[l]=["text",r[0]],l+=1,r.length=0}const e=/-\webkit\-transform: 'rotate\(\d{1}\.\d{2}rad\) translateZ\(\d{1}px\)',/;let s=n[t].split("span style")[1].replaceAll(";","',").replaceAll(": ",": '").replaceAll("margin-left","marginLeft").replaceAll("margin-top","marginTop").replace(e,"").replaceAll("border: 0.00px solid #000000,","").replace('="',"").replaceAll(", -webkit-transform: 'rotate(0.00rad) translateZ(0px)',","").replace('px,"',"px").replace(">","}}>").replace('">',"'}}>").replace("style=","style={{ ").replace("px',\"","px'").replace('" title="\'',"").replace('"width',"width");s="<span style={{"+s+"</img> </span>",a[l]=["img",s],l+=1,i+=1}else!n[t].match(/hr\sstyle=/i)&&n[t].split("span")[1].match(/<\/a>/)?(r[o]="<a"+n[t].split("<a")[1].split("</a>")[0]+"</a>",o+=1):n[t].match(/hr\sstyle=/i)||0!=e||(r[o]=n[t].split("span")[1].split(">")[1],o+=1);p(a),h(l),c(i)}if(r.length>0){for(let t=1;t<r.length;t++)r[0]+=r[t];a[l]=["text",r[0]],l+=1}1==g&&(a[l]=["break","pageBreak"],l+=1)}}(await t[t.length-1].text()),function(t){t=t.split("\n").filter((function(t){return t}));let e=0;for(;e<t.length&&!t[e].match("<img src=");)e+=1;let l=[];for(;e<t.length;)l.push(t[e]),e+=1;c(l.length),console.log(l),r(l)}(l),m(!0),console.log(a)};return i.createElement("div",{className:"Importer"},i.createElement("center",null,i.createElement("input",{multiple:!0,type:"file",onChange:t=>{(async t=>{if(console.log("in"),"md"!=t[0].name.split(".").pop())throw new Error("Please attach your markdown file as the first file (rename it so that it comes first in the file directory");if("html"!=t[t.length-1].name.split(".").pop())throw new Error("Please have your HTML file last (rename it to be last in the file directory)");await j(t)})(t.target.files)}})))}}}]);